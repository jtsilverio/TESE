# Annual changes in daily activity patterns in free-living tuco-tucos

This is a repository for my masters' thesis. This thesis was presented to _departamento de fisiologia - IB-USP_. It was done using R v4.1.2.
 
# Main directories

- `00_submitted-pdfs`: Submitted PDF files. Knitted from the bookdown template located in `05_writing`.
- `01_data`: Data directory. The processed data is provided in the repo. The raw data, however, needs to be copied separetly to `01_data/activity_raw/`.
- `02_data_processing`: Data processing scripts used to process and merge acelerometer and luximiter raw data. These scripts generates the file `01_data/activity_processed/tuco_processed.rds`.
- `03_analysis`: Analysis scripts used to run EDA, HMM models, statistical tests and generate the appendix plots (e.g. actograms, weather, vegetation, daylength).
- `04_figures`: Figures generated by the analysis scripts plus other images such as the introduction diagram, maps and tuco-tuco's photo.
- `05_writing`: _Bookdown_ based structured to write and generate the final thesis document using markdown, pandoc and LaTeX. I used `https://github.com/COPPE-UFRJ/coppedown` as a base bookdown template and modified specific details to follow the IB-USP template.
- `06_stats_report`: Statistical report that analysed some parameter we used in the main paper analysis such as the downsampling factor and summary window.
- `requirements.txt`: Script with all necessary packages used in the markdown and analysis documents.
- `tuco-tuco-activity.Rproj`: Rstudio project.

# Installing the R-package momentuHMM on linux

Some external dependencies are needed in order to compile and install the `momentuHMM` package:

```
On Ubuntu based distros:
---
sudo apt install libssl-dev
sudo apt install libnode-dev
sudo apt install libprotobuf-dev
sudo apt install libjq-dev
sudo apt install protobuf-compiler
sudo apt install libudunits2-dev
sudo apt install libgeos-dev
sudo apt install libudunits2-0
sudo apt install libgdal-dev

On Fedora:
---
sudo dnf install protobuf-devel -y
sudo dnf install jq-devel -y
sudo dnf install libcurl-devel -y
sudo dnf install udunits2-devel -y
sudo dnf install v8-devel -y
sudo dnf install geos-devel -y
sudo dnf install gdal-devel -y
sudo dnf install proj-devel -y
sudo dnf install sqlite-devel -y
```

# How to Knit the PDF files

In Rstudio open `05_writing/index.Rmd` and click the knit button on the top bar. Another option is to execute `bookdown::render_book("05_writing", "coppedown::thesis_pdf")` on the command line.

# References

Some actograms were plotted using forked scripts from [ggetho](https://github.com/rethomics/ggetho).
